<html>
	<head>
		<title>Test results overview</title>
	</head>
	<body>
	<br>
        <!-- <h1>Overall status is {{ overallStatus }}</h1> -->
		<!-- <ul> -->
		{% assign overallStatus = '<h1>NOT TESTED</h1>' %}
		
		<h1>{{ @Model.TestRun.Name }} /{{ @Model.TestRun.Status }}/</h1>
        
		<h3>Test results:<br></h3>
		
		<ul>
		{% for suite in @Model.TestRun.TestSuites -%}
		  {% if suite.Name != 'autogenerated' %} <!-- and suite.Status != 'NOT TESTED' %} -->
    		  {% case suite.Status %}
              {% when 'PASSED' %}
                {% assign suiteColor = 'green' %}
              {% when 'FAILED' %}
                {% assign suiteColor = 'red' %}
              {% when 'NOT TESTED' %}
                {% assign suiteColor = 'gray' %}
              {% endcase %}
    		  <li><font color="{{ suiteColor }}">{{ suite.Id }} {{ suite.Name }} {{ suite.PlatformId }}</font></li>
		  {% endif %}
		  <ul>
		  {% for scenario in suite.TestScenarios -%}
		    {% if scenario.Name != 'autogenerated' %} <!-- and scenario.Status != 'NOT TESTED' %} -->
    		    {% case scenario.Status %}
                {% when 'PASSED' %}
                    {% assign scenarioColor = 'green' %}
                {% when 'FAILED' %}
                    {% assign scenarioColor = 'red' %}
                {% when 'NOT TESTED' %}
                    {% assign scenarioColor = 'gray' %}
                {% endcase %}
                <li><font color="{{ scenarioColor }}">{{ scenario.Id }} {{ scenario.Name }} {{ scenario.PlatformId }}</font></li>
            {% endif %}
			<ul>
			{% for result in scenario.TestResults -%}
			  {% if result.Origin == 'Logical' %}
    		      {% case result.Status %}
                  {% when 'PASSED' %}
                    {% assign resultColor = 'green' %}
                  {% when 'FAILED' %}
                    {% assign resultColor = 'red' %}
                  {% when 'NOT TESTED' %}
                    {% assign resultColor = 'gray' %}
                  {% when 'KNOWN ISSUE' %}
                    {% assign resultColor = 'olive' %}
                  {% endcase %}
                  <li><font color="{{ resultColor }}">{{ result.Id }} {{ result.Name }}</font></li>
              {% endif %}
			{% endfor -%}
			</ul>
		  {% endfor -%}
		  </ul>
		{% endfor -%}
		</ul>
		  
		<!-- </ul> -->
	</body>
</html>