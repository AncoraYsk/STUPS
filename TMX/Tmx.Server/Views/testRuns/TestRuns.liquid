<html>
    <head>
        <title>Test runs queue</title>
        <style>
            table, th, td {
                border: 1px solid black;
                border-collapse: collapse;
            }
        </style>
        <!--
        <script src="/Scripts/jquery-2.1.1.min.js"></script>
        <script>
            function cancelTestRun(id)
            {
                $.ajax({
                    url: '/api/testRuns/${id}/cancelTestRun',
                    type: 'PUT',
                    success: function(result) {
                        // Do something with the result
                    }
                });
            }
        </script>
        -->
    </head>
    <body>
        <a href="/">Home</a>
        <br>
        <br>
        <table border="1">
            <tr>
                <th>Name</th>
                <th>Test Lab</th>
                <th>Started</th>
                <th>Time taken</th>
                <th>Status</th>
                <th>Description</th>
                <th>Test results</th>
                <th>Parameters</th>
                <th>Clients</th>
                <th>Tasks</th>
                <th>Cancel</th>
            </tr>
            {% for testRun in @Model.TestRuns -%}
            <tr>
                <td>{{ testRun.Name }}</td>
                <td>{{ testRun.GetTestLabName() }}</td>
                <td>{{ testRun.StartTime }}</td>
                <td>{{ testRun.TimeTaken }}</td>
                <td>{{ testRun.Status }}</td>
                <td>{{ testRun.Description }}</td>
                <td><a href="/testRuns/{{ testRun.Id }}/testResults">test results</a></td>
                <td><a href="/testRuns/{{ testRun.Id }}/testParameters">parameters</a></td>
                <td><a href="/testRuns/{{ testRun.Id }}/clients">clients</a></td>
                <td><a href="/testRuns/{{ testRun.Id }}/tasks">tasks</a></td>
                <!-- http://blog.nancyfx.org/x-http-method-override-with-nancyfx/ -->                
                <form action="/api/testRuns/{{ testRun.Id }}/cancelTestRun" method="POST">
                    <input type="hidden" name="_method" value="PUT"/>
                    <td><input type="submit" value="Cancel"/></td>
                </form> 
            </tr>
            {% endfor -%}
        </table>
    </body>
</html>